# ===========================================
# Genomic Visualization Platform Configuration
# ===========================================
# Copy this file to .env and fill in your values
# DO NOT commit .env files to version control

# -----------------
# Node Environment
# -----------------
NODE_ENV=development
# Options: development, staging, production

# -----------------
# Server Configuration
# -----------------
PORT=3001
HOST=localhost
API_PREFIX=/api

# -----------------
# Client Configuration
# -----------------
CLIENT_PORT=5173
CLIENT_URL=http://localhost:5173

# -----------------
# Database Configuration
# -----------------
DB_HOST=localhost
DB_PORT=5432
DB_NAME=genomic_viz
DB_USER=postgres
DB_PASSWORD=your_secure_password_here
DB_SSL=false

# Connection pool settings
DB_POOL_MIN=2
DB_POOL_MAX=10

# -----------------
# Redis Configuration
# -----------------
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=
REDIS_DB=0

# -----------------
# Authentication (JWT)
# -----------------
# IMPORTANT: Generate a strong secret for production
# Use: node -e "console.log(require('crypto').randomBytes(64).toString('hex'))"
JWT_SECRET=your_jwt_secret_minimum_32_characters_long_change_in_production
JWT_EXPIRES_IN=15m
JWT_REFRESH_EXPIRES_IN=7d

# Password hashing rounds (higher = more secure but slower)
BCRYPT_ROUNDS=12

# -----------------
# External Services
# -----------------

# OpenAI (for AI chatbot feature)
OPENAI_API_KEY=sk-your-openai-api-key-here
OPENAI_MODEL=gpt-4
OPENAI_MAX_TOKENS=2000

# Sentry (error tracking)
SENTRY_DSN=https://your-sentry-dsn-here@sentry.io/project-id
SENTRY_ENVIRONMENT=development

# -----------------
# File Upload Configuration
# -----------------
UPLOAD_DIR=./uploads
MAX_FILE_SIZE=52428800
# 50MB in bytes (50 * 1024 * 1024)

# Allowed file extensions (comma-separated)
ALLOWED_EXTENSIONS=.vcf,.maf,.csv,.tsv,.txt,.bed,.gff,.gtf

# -----------------
# CORS Configuration
# -----------------
# For multiple origins, use comma-separated values
CORS_ORIGIN=http://localhost:5173
CORS_METHODS=GET,POST,PUT,DELETE,PATCH
CORS_CREDENTIALS=true

# -----------------
# Rate Limiting
# -----------------
RATE_LIMIT_WINDOW_MS=900000
# 15 minutes in milliseconds

RATE_LIMIT_MAX_REQUESTS=100
# Max requests per window for authenticated users

RATE_LIMIT_MAX_REQUESTS_ANON=20
# Max requests per window for anonymous users

# -----------------
# Logging
# -----------------
LOG_LEVEL=info
# Options: error, warn, info, http, verbose, debug, silly

LOG_FORMAT=dev
# Options: combined, common, dev, short, tiny

LOG_FILE=./logs/app.log
# Set to empty to disable file logging

# -----------------
# Session Configuration
# -----------------
SESSION_SECRET=your_session_secret_here
SESSION_MAX_AGE=86400000
# 24 hours in milliseconds

# -----------------
# Feature Flags
# -----------------
FEATURE_AI_CHAT=true
FEATURE_FILE_UPLOAD=true
FEATURE_WEBSOCKET=false
FEATURE_REGISTRATION=true
# Set to false to disable new user registration

# -----------------
# R Integration
# -----------------
R_SERVER_URL=http://localhost:8787
R_TIMEOUT=30000
# 30 seconds timeout for R computations

# -----------------
# Docker Configuration
# -----------------
# These are used by docker-compose
POSTGRES_USER=postgres
POSTGRES_PASSWORD=postgres
POSTGRES_DB=genomic_viz
PGADMIN_EMAIL=admin@example.com
PGADMIN_PASSWORD=admin
